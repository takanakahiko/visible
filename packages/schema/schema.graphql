interface Actor {
  id: ID!
  name: String!
  websites: [Website!]
}

type Account implements Actor {
  id: ID!
  name: String!
  websites: [Website!]
}

type Organization implements Actor {
  id: ID!
  name: String!
  websites: [Website!]
}

type Credential implements Actor {
  id: ID!
  email: String!
  name: String!
  websites: [Website!]
}

enum ReportType {
  OK
  WARN
  ERROR
}

type Content {
  html: String
  xpath: String
  css: String
}

type Report {
  id: ID!
  type: ReportType!
  message: String
  content: Content!
}

type Website {
  id: ID!
  name: String!
  description: String!
  domain: String!
  diagnostics: [Diagnostic!]
}

type Score {
  error: Int!
  warn: Int!
  ok: Int!
}

type Diagnostic {
  id: ID!
  score: Score!
  website: Website!
  screenshot: String!
  reports: [Report!]!
}

type Query {
  diagnostic(id: ID!): Diagnostic!
  account(id: ID!): Account!
  organization(id: ID!): Organization!
  credential: Credential!
}

type Mutation {
  diagnoseURL(url: String!): Diagnostic!
}

schema {
  query: Query
  mutation: Mutation
}
